<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="color-scheme" content="light only">
    <meta name="supported-color-schemes" content="light only">
    <title>Actualización de tu Reserva</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap');

        /* Responsive Styles */
        @media only screen and (max-width: 600px) {
            .content {
                padding: 20px !important;
            }

            .responsive-table td {
                padding: 20px 10px !important;
            }
        }

        /* Force Light Mode */
        :root {
            color-scheme: light only;
        }

        @media (prefers-color-scheme: dark) {

            body,
            .body-table,
            .main-bg {
                background-color: #f9fafb !important;
            }

            .content-box {
                background-color: rgba(255, 255, 255, 0.7) !important;
                background: rgba(255, 255, 255, 0.7) !important;
                color: #1f2937 !important;
            }

            h2 {
                color: #1f2937 !important;
            }

            p {
                color: #4b5563 !important;
            }

            .footer-text {
                color: #9ca3af !important;
            }

            .detail-box {
                background-color: rgba(243, 244, 246, 0.8) !important;
            }
        }
    </style>
</head>

<body style="margin: 0; padding: 0; font-family: 'Outfit', sans-serif; background: #f9fafb; color: #1f2937;">

    <table role="presentation" width="100%" border="0" cellspacing="0" cellpadding="0"
        style="width: 100%; min-height: 100vh; background-color: #f9fafb;" class="responsive-table">
        <tr>
            <td align="center" valign="middle" style="
        padding: 40px 20px; 
        background-color: #f9fafb;
        background-image: radial-gradient(circle at 10% 20%, rgba(37, 99, 235, 0.1) 0%, transparent 40%), radial-gradient(circle at 90% 80%, rgba(79, 70, 229, 0.1) 0%, transparent 40%);
      ">

                <div class="content content-box" style="
          max-width: 600px;
          margin: 0 auto;
          box-sizing: border-box;
          background: rgba(255, 255, 255, 0.7);
          border: 1px solid rgba(255, 255, 255, 0.4);
          border-radius: 16px; 
          padding: 40px;
          text-align: center;
          box-shadow: 0 20px 25px -5px rgba(229, 231, 235, 0.6), 0 8px 10px -6px rgba(229, 231, 235, 0.6);
          backdrop-filter: blur(24px);
          -webkit-backdrop-filter: blur(24px);
        ">

                    <div style="margin-bottom: 2rem;">
                        {{#if communityLogo}}
                        <img src="{{communityLogo}}" alt="{{communityName}}"
                            style="max-height: 100px; max-width: 200px; object-fit: contain; margin: 0 auto; display: block;">
                        <h2 style="font-size: 1.25rem; margin-top: 1rem; color: #1f2937;">{{communityName}}</h2>
                        {{else}}
                        <h2 style="font-size: 1.5rem; color: #2563eb; font-weight: bold;">{{communityName}}</h2>
                        {{/if}}
                    </div>

                    <h2 style="
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #1f2937;
          ">
                        {{#if (eq status "approved")}}¡Reserva Aprobada!{{/if}}
                        {{#if (eq status "rejected")}}Reserva Rechazada{{/if}}
                        {{#if (eq status "cancelled")}}Reserva Cancelada{{/if}}
                    </h2>

                    <p style="
            font-size: 1rem;
            line-height: 1.6;
            color: #4b5563;
            margin-bottom: 1.5rem;
          ">
                        Hola <strong>{{userName}}</strong>, el estado de tu reserva para
                        <strong>{{amenityName}}</strong> ha sido actualizado.
                    </p>

                    <div class="detail-box" style="
            background: rgba(243, 244, 246, 0.5);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 2rem;
            text-align: left;
          ">
                        <p style="margin: 0 0 10px 0; font-size: 0.95rem; color: #4b5563;"><strong>Estado:</strong>
                            <span style="
                                text-transform: capitalize;
                                font-weight: 600;
                                {{#if (eq status 'approved')}}color: #059669;{{/if}}
                                {{#if (eq status 'rejected')}}color: #dc2626;{{/if}}
                                {{#if (eq status 'cancelled')}}color: #6b7280;{{/if}}
                            ">
                                {{#if (eq status 'approved')}}Aprobada{{/if}}
                                {{#if (eq status 'rejected')}}Rechazada{{/if}}
                                {{#if (eq status 'cancelled')}}Cancelada{{/if}}
                            </span>
                        </p>
                        <p style="margin: 0 0 10px 0; font-size: 0.95rem; color: #4b5563;"><strong>Amenidad:</strong>
                            {{amenityName}}</p>
                        <p style="margin: 0 0 10px 0; font-size: 0.95rem; color: #4b5563;"><strong>Fecha:</strong>
                            {{date}}</p>
                        <p style="margin: 0 0 10px 0; font-size: 0.95rem; color: #4b5563;"><strong>Horario:</strong>
                            {{startTime}} - {{endTime}}</p>
                        {{#if adminNotes}}
                        <p
                            style="margin: 10px 0 0 0; font-size: 0.95rem; color: #4b5563; padding-top: 10px; border-top: 1px solid rgba(0,0,0,0.05);">
                            <strong>Notas:</strong> {{adminNotes}}
                        </p>
                        {{/if}}
                    </div>

                    {{#if (eq status "approved")}}
                    <p style="
            font-size: 0.95rem;
            line-height: 1.6;
            color: #6b7280;
            margin-bottom: 2.5rem;
          ">
                        ¡Tu reserva ha sido confirmada! Por favor, recuerda seguir las normas de uso de la amenidad.
                        ¡Que disfrutes!
                    </p>
                    {{/if}}

                    {{#if (eq status "rejected")}}
                    <p style="
            font-size: 0.95rem;
            line-height: 1.6;
            color: #6b7280;
            margin-bottom: 2.5rem;
          ">
                        Lamentamos informarte que tu solicitud de reserva ha sido rechazada por la administración.
                    </p>
                    {{/if}}

                    {{#if (eq status "cancelled")}}
                    <p style="
            font-size: 0.95rem;
            line-height: 1.6;
            color: #6b7280;
            margin-bottom: 2.5rem;
          ">
                        Tu reserva ha sido marcada como cancelada.
                    </p>
                    {{/if}}

                    <a href="{{link}}" style="
            display: inline-block;
            padding: 0.875rem 2.5rem;
            font-size: 0.95rem;
            font-weight: 600;
            text-decoration: none;
            color: #ffffff;
            background-color: #4f46e5;
            border-radius: 9999px;
            box-shadow: 0 4px 6px -1px rgba(79, 70, 229, 0.4);
          ">Ver mis reservas</a>

                    <div style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid rgba(0,0,0,0.05);"
                        class="footer-text">
                        <p style="font-size: 0.85rem; color: #6b7280; margin-bottom: 1rem;">Powered by</p>
                        <img src="https://habiio.com/assets/habiio_logo_header_nobg-KEmvXxNA.webp" alt="Habiio"
                            style="max-width: 80px; opacity: 0.6; display: block; margin: 0 auto;">
                    </div>
                </div>

            </td>
        </tr>
    </table>
</body>

</html>